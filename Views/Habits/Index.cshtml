@model IEnumerable<HabitTracker.Web.Models.Habit>

@{
    ViewData["Title"] = "My Habits";
}

<style>
    body {
        font-family: 'Poppins', sans-serif;
        background-color: #f8f9fc;
        color: #333;
    }

    .container {
        max-width: 900px;
    }

    h2 {
        font-weight: 600;
        color: #5b4b8a;
        text-align: center;
        margin-bottom: 30px;
    }

    .btn-primary {
        background-color: #b495ff;
        border-color: #b495ff;
        border-radius: 12px;
        font-weight: 500;
        padding: 8px 20px;
        transition: all 0.3s ease;
    }

        .btn-primary:hover {
            background-color: #9c7df5;
            border-color: #9c7df5;
        }

    .btn {
        border-radius: 10px;
        font-weight: 500;
    }

    .table {
        background-color: #fff;
        border-radius: 15px;
        overflow: hidden;
        box-shadow: 0 6px 15px rgba(0, 0, 0, 0.08);
    }

        .table th {
            background-color: #f3e8ff;
            color: #5b4b8a;
            text-align: center;
            vertical-align: middle;
        }

        .table td {
            vertical-align: middle;
            text-align: center;
        }

    .badge {
        font-size: 0.9rem;
        border-radius: 8px;
        padding: 6px 12px;
    }

    .alert-info {
        border: none;
        border-radius: 12px;
        background-color: #f3e8ff;
        color: #5b4b8a;
        box-shadow: 0 4px 10px rgba(91, 75, 138, 0.1);
        text-align: center;
        font-weight: 500;
    }

    .btn-success {
        background-color: #a5d6a7;
        border-color: #a5d6a7;
    }

        .btn-success:hover {
            background-color: #81c784;
            border-color: #81c784;
        }

    .btn-info {
        background-color: #b3e5fc;
        border-color: #b3e5fc;
        color: #333;
    }

        .btn-info:hover {
            background-color: #81d4fa;
            border-color: #81d4fa;
            color: #222;
        }

    .btn-warning {
        background-color: #ffe082;
        border-color: #ffe082;
        color: #333;
    }

        .btn-warning:hover {
            background-color: #ffd54f;
            border-color: #ffd54f;
            color: #222;
        }

    .btn-danger {
        background-color: #ef9a9a;
        border-color: #ef9a9a;
    }

        .btn-danger:hover {
            background-color: #e57373;
            border-color: #e57373;
        }
</style>

<div class="container mt-5">
    <h2>My Habits</h2>

    <div class="text-center mb-4">
        <a asp-action="Create" class="btn btn-primary">＋ Create New Habit</a>
    </div>

    @if (Model.Any())
    {
        <table class="table table-striped text-center align-middle">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Description</th>
                    <th>Current Streak</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var habit in Model)
                {
                    <tr>
                        <td>@habit.Name</td>
                        <td>@habit.Description</td>
                        <td>
                            <span class="badge bg-success">@habit.CurrentStreak days</span>
                        </td>
                        <td>
                            <form asp-action="Track" method="post" style="display:inline;">
                                <input type="hidden" name="habitId" value="@habit.Id" />
                                <button type="submit" class="btn btn-sm btn-success">Done Today</button>
                            </form>
                            <a asp-action="Progress" asp-route-id="@habit.Id" class="btn btn-sm btn-info">Progress</a>
                            <a asp-action="Edit" asp-route-id="@habit.Id" class="btn btn-sm btn-warning">Edit</a>
                            <a asp-action="Delete" asp-route-id="@habit.Id" class="btn btn-sm btn-danger">Delete</a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    }
    else
    {
        <div class="alert alert-info mt-4">
            🌸 No habits yet. Start your first one today!
        </div>
    }
</div>
